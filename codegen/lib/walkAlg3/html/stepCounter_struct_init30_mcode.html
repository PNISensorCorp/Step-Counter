<!-- saved from url=(0014)about:internet -->
<pre class="code">
<span class="srcline"><span class="lineno"><a href="19,1" id="srcline1"> 1</a></span><span class="line"><span class="keyword">function</span> <span class="var type1" id="S2T1U3">walkStruct</span> = stepCounter_struct_init</span></span>
<span class="srcline"><span class="lineno"><a href="19,2" id="srcline2"> 2</a></span><span class="line"><span class="comment">%%% init of stepCounter structure</span></span></span>
<span class="srcline"><span class="lineno"><a href="19,3" id="srcline3"> 3</a></span><span class="line"><span class="comment">%</span></span></span>
<span class="srcline"><span class="lineno"><a href="19,4" id="srcline4"> 4</a></span><span class="line"><span class="comment">%#codegen</span></span></span>
<span class="srcline"><span class="lineno"><a href="19,5" id="srcline5"> 5</a></span><span class="line"><span class="comment">%</span></span></span>
<span class="srcline"><span class="lineno"><a href="19,6" id="srcline6"> 6</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="19,7" id="srcline7"> 7</a></span><span class="line"><span class="comment">% walkStruct</span></span></span>
<span class="srcline"><span class="lineno"><a href="19,8" id="srcline8"> 8</a></span><span class="line"><span class="mxinfo" id="T2:U2"><span class="mxinfo" id="T2:U3"><span class="var type1" id="S2T1U9">walkStruct</span>.HIthrA</span> = <span class="mxinfo" id="T2:U5">single(<span class="mxinfo" id="T9:U6">2</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="19,9" id="srcline9"> 9</a></span><span class="line"><span class="mxinfo" id="T2:U7"><span class="mxinfo" id="T2:U8"><span class="var type1" id="S2T1U17">walkStruct</span>.LIthrA</span> = <span class="mxinfo" id="T2:U10">single(<span class="mxinfo" id="T9:U11">0.7</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="19,10" id="srcline10">10</a></span><span class="line"><span class="mxinfo" id="T2:U12"><span class="mxinfo" id="T2:U13"><span class="var type1" id="S2T1U25">walkStruct</span>.HIthrW</span> = <span class="mxinfo" id="T2:U15">single(<span class="mxinfo" id="T9:U16">1.7</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="19,11" id="srcline11">11</a></span><span class="line"><span class="mxinfo" id="T2:U17"><span class="mxinfo" id="T2:U18"><span class="var type1" id="S2T1U33">walkStruct</span>.LIthrW</span> = <span class="mxinfo" id="T2:U20">single(<span class="mxinfo" id="T9:U21">1.05</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="19,12" id="srcline12">12</a></span><span class="line"><span class="mxinfo" id="T2:U22"><span class="mxinfo" id="T2:U23"><span class="var type1" id="S2T1U41">walkStruct</span>.timeThr</span> = <span class="mxinfo" id="T2:U25">single(<span class="mxinfo" id="T9:U26">250</span>)</span></span>; <span class="comment">% made a single for real time updates</span></span></span>
<span class="srcline"><span class="lineno"><a href="19,13" id="srcline13">13</a></span><span class="line"><span class="mxinfo" id="T3:U27"><span class="mxinfo" id="T3:U28"><span class="var type1" id="S2T1U49">walkStruct</span>.HLI</span> = <span class="mxinfo" id="T3:U30">uint32(<span class="mxinfo" id="T9:U31">0</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="19,14" id="srcline14">14</a></span><span class="line"><span class="mxinfo" id="T3:U32"><span class="mxinfo" id="T3:U33"><span class="var type1" id="S2T1U57">walkStruct</span>.HIt</span> = <span class="mxinfo" id="T3:U35">uint32(<span class="mxinfo" id="T9:U36">0</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="19,15" id="srcline15">15</a></span><span class="line"><span class="mxinfo" id="T3:U37"><span class="mxinfo" id="T3:U38"><span class="var type1" id="S2T1U65">walkStruct</span>.LIt</span> = <span class="mxinfo" id="T3:U40">uint32(<span class="mxinfo" id="T9:U41">0</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="19,16" id="srcline16">16</a></span><span class="line"><span class="mxinfo" id="T3:U42"><span class="mxinfo" id="T3:U43"><span class="var type1" id="S2T1U73">walkStruct</span>.HIcnt</span> = <span class="mxinfo" id="T3:U45">uint32(<span class="mxinfo" id="T9:U46">0</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="19,17" id="srcline17">17</a></span><span class="line"><span class="mxinfo" id="T3:U47"><span class="mxinfo" id="T3:U48"><span class="var type1" id="S2T1U81">walkStruct</span>.LIcnt</span> = <span class="mxinfo" id="T3:U50">uint32(<span class="mxinfo" id="T9:U51">0</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="19,18" id="srcline18">18</a></span><span class="line"><span class="mxinfo" id="T4:U52"><span class="mxinfo" id="T4:U53"><span class="var type1" id="S2T1U89">walkStruct</span>.Acur</span> = <span class="mxinfo" id="T4:U55">zeros(<span class="mxinfo" id="T9:U56">1</span>,<span class="mxinfo" id="T9:U57">3</span>,<span class="string">'single'</span>)</span></span>; <span class="comment">%accel x y z time</span></span></span>
<span class="srcline"><span class="lineno"><a href="19,19" id="srcline19">19</a></span><span class="line"><span class="mxinfo" id="T4:U58"><span class="mxinfo" id="T4:U59"><span class="var type1" id="S2T1U99">walkStruct</span>.AcurRMS</span> = <span class="mxinfo" id="T4:U61">zeros(<span class="mxinfo" id="T9:U62">1</span>,<span class="mxinfo" id="T9:U63">3</span>,<span class="string">'single'</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="19,20" id="srcline20">20</a></span><span class="line"><span class="mxinfo" id="T4:U64"><span class="mxinfo" id="T4:U65"><span class="var type1" id="S2T1U109">walkStruct</span>.Aprev</span> = <span class="mxinfo" id="T4:U67">zeros(<span class="mxinfo" id="T9:U68">1</span>,<span class="mxinfo" id="T9:U69">3</span>,<span class="string">'single'</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="19,21" id="srcline21">21</a></span><span class="line"><span class="mxinfo" id="T4:U70"><span class="mxinfo" id="T4:U71"><span class="var type1" id="S2T1U119">walkStruct</span>.AprevRMS</span> = <span class="mxinfo" id="T4:U73">zeros(<span class="mxinfo" id="T9:U74">1</span>,<span class="mxinfo" id="T9:U75">3</span>,<span class="string">'single'</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="19,22" id="srcline22">22</a></span><span class="line"><span class="mxinfo" id="T3:U76"><span class="mxinfo" id="T3:U77"><span class="var type1" id="S2T1U129">walkStruct</span>.Acurt</span> = <span class="mxinfo" id="T3:U79">uint32(<span class="mxinfo" id="T9:U80">0</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="19,23" id="srcline23">23</a></span><span class="line"><span class="mxinfo" id="T3:U81"><span class="mxinfo" id="T3:U82"><span class="var type1" id="S2T1U137">walkStruct</span>.Aprevt</span> = <span class="mxinfo" id="T3:U84">uint32(<span class="mxinfo" id="T9:U85">0</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="19,24" id="srcline24">24</a></span><span class="line"><span class="mxinfo" id="T5:U86"><span class="mxinfo" id="T5:U87"><span class="var type1" id="S2T1U145">walkStruct</span>.crossed</span> = <span class="mxinfo" id="T5:U89">uint8(<span class="mxinfo" id="T9:U90">0</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="19,25" id="srcline25">25</a></span><span class="line"><span class="mxinfo" id="T6:U91"><span class="mxinfo" id="T6:U92"><span class="var type1" id="S2T1U153">walkStruct</span>.addPoint</span> = <span class="mxinfo" id="T6:U94">int8(<span class="mxinfo" id="T9:U95">0</span>)</span></span>; <span class="comment">% 1 to add point, 0 for nothing, -1 to lose point</span></span></span>
<span class="srcline"><span class="lineno"><a href="19,26" id="srcline26">26</a></span><span class="line"><span class="mxinfo" id="T5:U96"><span class="mxinfo" id="T5:U97"><span class="var type1" id="S2T1U161">walkStruct</span>.reset</span> = <span class="mxinfo" id="T5:U99">uint8(<span class="mxinfo" id="T9:U100">0</span>)</span></span>; <span class="comment">% end of interval reset flag</span></span></span>
<span class="srcline"><span class="lineno"><a href="19,27" id="srcline27">27</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="19,28" id="srcline28">28</a></span><span class="line"><span class="mxinfo" id="T3:U101"><span class="mxinfo" id="T3:U102"><span class="var type1" id="S2T1U169">walkStruct</span>.aTimeUnroll</span> = <span class="mxinfo" id="T3:U104">uint32(<span class="mxinfo" id="T9:U105">0</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="19,29" id="srcline29">29</a></span><span class="line"><span class="mxinfo" id="T7:U106"><span class="mxinfo" id="T7:U107"><span class="var type1" id="S2T1U177">walkStruct</span>.prevTime</span> = <span class="mxinfo" id="T7:U109">uint16(<span class="mxinfo" id="T9:U110">0</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="19,30" id="srcline30">30</a></span><span class="line"><span class="mxinfo" id="T7:U111"><span class="mxinfo" id="T7:U112"><span class="var type1" id="S2T1U185">walkStruct</span>.nWrap</span> = <span class="mxinfo" id="T7:U114">uint16(<span class="mxinfo" id="T9:U115">0</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="19,31" id="srcline31">31</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="19,32" id="srcline32">32</a></span><span class="line"><span class="mxinfo" id="T5:U116"><span class="mxinfo" id="T5:U117"><span class="var type1" id="S2T1U193">walkStruct</span>.timerOverflow</span> = <span class="mxinfo" id="T5:U119">uint8(<span class="mxinfo" id="T9:U120">0</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="19,33" id="srcline33">33</a></span><span class="line"><span class="mxinfo" id="T5:U121"><span class="mxinfo" id="T5:U122"><span class="var type1" id="S2T1U201">walkStruct</span>.counterOverflow</span> = <span class="mxinfo" id="T5:U124">uint8(<span class="mxinfo" id="T9:U125">0</span>)</span></span>;</span></span>
</pre>
